{% extends 'base.html' %}
{% block content %}
<div class="container">
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-white">
            <h2 class="mb-0 text-dark">Report Details for Adoption ID: {{ pet_adoption.id }}</h2>
        </div>
        <div class="card-body">
            {% if reports %}
                {% for report in reports %}
                    <div class="card mb-4 border-0 shadow-sm">
                        <div class="card-body p-4">
                            <div class="row">
                                <div class="col-md-4">
                                    <h5 class="mb-3">Photos:</h5>
                                    <div class="report-photo-container">
                                        {% if report.photos %}
                                            <img src="{{ report.photos.url }}" alt="Report Photo" class="img-thumbnail shadow-sm" style="max-width: 100%; max-height: 250px; object-fit: cover;"/>
                                        {% else %}
                                            <div class="no-photo-placeholder text-center p-4 bg-light rounded">
                                                <i class="fas fa-camera fa-3x text-muted"></i>
                                                <p class="mt-2">No photos available</p>
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <div class="report-header mb-3">
                                        <h4 class="card-title">Report Update for the month of: <span class="text-primary">{{ report.followup_date }}</span></h4>
                                        <div class="report-date-badge">{{ report.followup_date|date:"F j, Y" }}</div>
                                    </div>
                                    
                                    <div class="report-info-grid">
                                        <div class="report-info-item">
                                            <h5 class="report-label">Living Situation:</h5>
                                            <p class="report-value">{{ report.living_situation }}</p>
                                        </div>
                                        
                                        <div class="report-info-item">
                                            <h5 class="report-label">Housing Type:</h5>
                                            <p class="report-value">{{ report.housing_type }}</p>
                                        </div>
                                        
                                        <div class="report-info-item">
                                            <h5 class="report-label">Behavioral Changes:</h5>
                                            <p class="report-value">{{ report.behavioral_changes }}</p>
                                        </div>
                                        
                                        <div class="report-info-item">
                                            <h5 class="report-label">Health Issues:</h5>
                                            <p class="report-value">{{ report.health_issues }}</p>
                                        </div>
                                        
                                        <div class="report-info-item notes">
                                            <h5 class="report-label">Notes:</h5>
                                            <p class="report-value">{{ report.notes }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="alert alert-info" role="alert">
                    <i class="fas fa-info-circle mr-2"></i> No reports found for this adoption.
                </div>
            {% endif %}
        </div>
    </div>
    
    <div class="action-buttons mb-4">
        <a href="javascript:history.back()" class="btn btn-primary mr-2">
            <i class="fas fa-arrow-left mr-1"></i> Back to Pet Details
        </a>
    </div>
</div>

<style>
    .report-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
    }
    
    .report-date-badge {
        background-color: #f0f8ff;
        color: #0d6efd;
        border: 1px solid #d1e7ff;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 0.9rem;
        font-weight: 500;
    }
    
    .report-info-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 15px;
    }
    
    .report-info-item.notes {
        grid-column: span 2;
    }
    
    .report-label {
        font-size: 0.95rem;
        font-weight: 600;
        color: #495057;
        margin-bottom: 5px;
    }
    
    .report-value {
        background-color: #f8f9fa;
        padding: 10px;
        border-radius: 4px;
        margin: 0;
    }
    
    .no-photo-placeholder {
        border: 2px dashed #dee2e6;
        border-radius: 4px;
        height: 200px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    
    .action-buttons {
        display: flex;
        gap: 10px;
    }
    
    @media (max-width: 768px) {
        .report-info-grid {
            grid-template-columns: 1fr;
        }
        
        .report-info-item.notes {
            grid-column: span 1;
        }
        
        .report-header {
            flex-direction: column;
            align-items: flex-start;
        }
        
        .report-date-badge {
            margin-top: 10px;
        }
    }
</style>
{% endblock %}